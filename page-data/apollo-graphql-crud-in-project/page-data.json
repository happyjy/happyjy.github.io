{"componentChunkName":"component---src-templates-single-post-js","path":"/apollo-graphql-crud-in-project","result":{"data":{"markdownRemark":{"id":"93e2e3e6-8561-5ba1-b14a-05b91c436510","html":"<h1 id=\"apollo-graphql-crud-에-대해서\" style=\"position:relative;\"><a href=\"#apollo-graphql-crud-%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\"apollo graphql crud 에 대해서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>apollo GraphQl CRUD 에 대해서</h1>\n<p>react-redux를 사용할때는 connect를 이용 mapDispatchToProps를 통해서 redux로 갔다가 다시 return받은걸 mapStateToProps 로 받아서 presentation으로 보내는 작업이 있었는데</p>\n<p>apollo GraphQl 해당 컴포넌트에 필요한 query가 있어서 해당 컴포넌트를 사용하면 추가적으로 호출/후처리를 해주지 않아도 되는 편리한 점이 있다.생산성이 높아질것 같다.\n(컴포넌트형 개발이 아니라면 api를 필요한곳에서 계속 호출/ 후처리를 불편함이 있을 것이다.)</p>\n<h1 id=\"create-add_comment에-대해서\" style=\"position:relative;\"><a href=\"#create-add_comment%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\"create add_comment에 대해서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create: ADD_COMMENT에 대해서</h1>\n<ul>\n<li>\n<p>mutation에서 사용될 query객체는 어떤 모습일까?</p>\n<ul>\n<li>mutation은 create, update, delete에서 사용되기 때문에 variables 설정이 필요하기 때문에 아래 코드와 같이 variables를 받는 과정이 있습니다.</li>\n</ul>\n</li>\n<li>\n<p>useMutation함수를 통해서 어떻게 server로 request할까?</p>\n<ul>\n<li>useMutation 호출시 반환되는 배열 첫번째 요소를 호출해야 request합니다.</li>\n<li>조회 할 때 쓰이는 \"useQuery\"는 호출시 바로 수행 됩니다.</li>\n</ul>\n</li>\n<li>\n<p>useMutation함수 설정은 프로젝트에서 어떻게 해줬는가? </p>\n<ul>\n<li>두개의 인자를 넣었으며 아래와 같이 설정했습니다. </li>\n<li>첫번째 인자: 수행할 sql </li>\n<li>두번째 인자: 수행 sql에서 필요한 조건</li>\n</ul>\n</li>\n<li>\n<p>useMutation함수로 반환 받은 첫번째 객체 설명</p>\n<ul>\n<li>이 객체는 promise 객체라서 await를 사용하게 되면 await 키워드를 사용한 promise객체가 settles and return 할때까지 async를 사용한 function은 기다리게 된다.</li>\n<li>\n<p>이 프로젝트에서는 아래 코드 주석 POINT3에서 addCommentMutation를 통해 server request를 하고 있고 그 아래 \"setSelfComments\" 이 함수는 response를 받은 후에 실행 될것입니다. </p>\n<ul>\n<li>이때 기다린다고 해서 cpu의 resource가 낭비되는것이 아니라 javascript engine은 다른 script를 execute를 하거나, 이벤트 처리를 하는 등의 수행을 합니다.</li>\n</ul>\n</li>\n<li>\n<p>Aync, Await는 다음을 참고하자</p>\n<ul>\n<li><a href=\"https://javascript.info/async-await\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">async-await</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Aync, Await에 대한 간략한 추가 설명</p>\n<ul>\n<li>이때 기다린다고 해서 cpu의 resource가 낭비되는것이 아니라 javascript engine은 다른 script를 execute를 하거나, 이벤트 처리를 하는 등의 수행을 합니다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//PostQuery.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> gql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"apollo-boost\"</span>\n\n<span class=\"token comment\">//POINT1</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">ADD_COMMENT</span> <span class=\"token operator\">=</span> gql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  mutation addComment($postId: String!, $text: String!) {\n    addComment(postId: $postId, text: $text) {\n      id\n      text\n      user {\n        username\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token comment\">//PostContainer.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useMutation <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-apollo-hooks\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">TOGGLE_LIKE</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADD_COMMENT</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./PostQueries\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PostContainer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\n  id<span class=\"token punctuation\">,</span>\n  user<span class=\"token punctuation\">,</span>\n  files<span class=\"token punctuation\">,</span>\n  likeCount<span class=\"token punctuation\">,</span>\n  isLiked<span class=\"token punctuation\">,</span>\n  comments<span class=\"token punctuation\">,</span>\n  caption<span class=\"token punctuation\">,</span>\n  location<span class=\"token punctuation\">,</span>\n  createdAt<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">//POINT2</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>addCommentMutation<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ADD_COMMENT</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    variables<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> postId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">,</span> text<span class=\"token operator\">:</span> comment<span class=\"token punctuation\">.</span>value <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onKeyPress</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> which <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> event\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>which <span class=\"token operator\">===</span> <span class=\"token number\">13</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//POINT3</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n          data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> addComment <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">addCommentMutation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// console.log(\"### addComment: \", addComment);</span>\n        <span class=\"token function\">setSelfComments</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>selfComments<span class=\"token punctuation\">,</span> addComment<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        comment<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">{</span>\n        toast<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Can't send comment\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PostPresenter</span></span>\n      <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">files</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>files<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">isLiked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isLikedS<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">likeCount</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>likeCountS<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">comments</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>comments<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">caption</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>caption<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">location</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">createdAt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>createdAt<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">newComment</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">setIsLiked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setIsLiked<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">setLikeCount</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setLikeCount<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">currentItem</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>currentItem<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">toggleLike</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>toggleLike<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">onKeyPress</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onKeyPress<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">selfComments</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>selfComments<span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"retrieve-feed_query에-대해서\" style=\"position:relative;\"><a href=\"#retrieve-feed_query%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\"retrieve feed_query에 대해서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Retrieve: FEED_QUERY에 대해서</h1>\n<ul>\n<li>\n<p>POINT1. Query 작성</p>\n<ul>\n<li>retreieve 할 query를 gql(apollo-boost패키지)에 작성한다.(FEED_QEURY)</li>\n</ul>\n</li>\n<li>\n<p>POINT2. useQeury로 서버 요청</p>\n<ul>\n<li>POINT1에서 설정한 query를 useQuery 함수에 설정해 호출</li>\n<li>const { data, loading } = useQuery(FEED_QUERY)</li>\n<li>useQuery는 호출시 자동으로 query를 수행한다.(useMutation은 그렇지 않다.)</li>\n<li>response 객체로 \"loading, error, data\" 객체를 받을 수 있습니다.</li>\n<li><a href=\"https://www.apollographql.com/docs/react/data/queries/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">useQuery 공식문서</a></li>\n</ul>\n</li>\n<li>예제 코드</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//Feed.js </span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> Helmet <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-helmet\"</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">\"styled-components\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> gql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"apollo-boost\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useQuery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-apollo-hooks\"</span>\n<span class=\"token keyword\">import</span> Loader <span class=\"token keyword\">from</span> <span class=\"token string\">\"../Components/Loader\"</span>\n<span class=\"token keyword\">import</span> Post <span class=\"token keyword\">from</span> <span class=\"token string\">\"../Components/Post\"</span>\n\n<span class=\"token comment\">//POINT1. </span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">FEED_QUERY</span> <span class=\"token operator\">=</span> gql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  {\n    seeFeed {\n      id\n      location\n      caption\n      user {\n        id\n        avatar\n        username\n      }\n      files {\n        id\n        url\n      }\n      likeCount\n      isLiked\n      comments {\n        id\n        text\n        user {\n          id\n          username\n        }\n      }\n      createdAt\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//POINT2. </span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> loading <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token constant\">FEED_QUERY</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Wrapper</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Helmet</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Feed | Prismagram</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Helmet</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>loading <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Loader</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>loading <span class=\"token operator\">&amp;&amp;</span>\n        data <span class=\"token operator\">&amp;&amp;</span>\n        data<span class=\"token punctuation\">.</span>seeFeed <span class=\"token operator\">&amp;&amp;</span>\n        data<span class=\"token punctuation\">.</span>seeFeed<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Post</span></span>\n            <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">id</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">caption</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>caption<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">location</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">files</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">likeCount</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>likeCount<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">isLiked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>isLiked<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">comments</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>comments<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">createdAt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>createdAt<span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">/></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Wrapper</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>Playground query 수행 결과를 확인할 수 있다. </p>\n<ul>\n<li>Apollo Client 설정시 설정한 uri에서 확인가능(Client.js)</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; flex:1.19;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0be8ad1c891ae90f6c22492b8fdc4713/84a78/Untitled.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAACvUlEQVQ4y42Uy26bQBSGXSlqoiZuEvAtNmCutgHDYAOOL9hpVaXZtNtK8SKbLrqv1C4q9TEidnmZqll205eJgvHpmcGxSdJUXfw6M5j5/M0ZoDD0vauzt2eXr2azeOD1457nxcTpYiWxY1uxi2Pf92OPuLFptmJNVWJDU+KWrsYqjnVNvcT5lSyJnwuFwrNC2wmABCOwvBB0k4BhuSCbPigdgrUPctsBzXSwutC2eiDqNjTxN7Vlgtax2Vy1fbw3+F123m8VjjoDqOjeTVXv3VaNflJS3YRXPQxJOIUk9U6QtIOTpKL3k6ruJ9VWkFRaIau1No4N/6ZujUCwhj/QcKtQMTwo6+6Ca9pLDPByF5PVfaEDijOE1+8+gOiMQXIjELsjFsFeZyE6E2iY4TUDlnUC5RZhQAZDKLcKnR9KFpQ13KozA9l/A8rxFORgCgJCG9YQGvaQAa3R6fXXLx8RqCHQcDfAXLjVHzSsY2j2KegE5HAKymDGoE0/wuvRQiIRA37/9mll+ASQQRFYxz5LHi7uzbBO2PYFZ8QqBg0jvCe35Up+y08ARXeCsBNqdGcGIsFrZMIM10A8VWaIi3OH8gBoZoYUwCAeA+UMJzlD7GFJc/4NZFumoOk9QwqVemiI1zeGiksXrrf8ELoxpFYRBWSwHhq7aEjGC/o4rYE8Arnm/wAj1kcE3PWOjVkP80BqyOUMn+whyQyp3d0jI2X9fAzEhQntIZ+9LY9y1AmXaIiZLfEtWQr5OKP7h7La8i0uXKBpyv8laJhK7ixV/NNU9qIUzXA+ScXuOBXs8S01bJiDn9kpq/hgKw7UdA9Kq1ftYSp6D/BDAGgKR1YIdTuEWieAquFj+kA/MLj+FwMW+drFfql+Xq4350WuNt8u8vOdl6V72d7j5s93Dzd5cZDVPTY/3ynyF7sH5Tf0e/gHEa67C33CtqMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./img/Untitled.png\"\n        title=\"./img/Untitled.png\"\n        src=\"/static/0be8ad1c891ae90f6c22492b8fdc4713/fcda8/Untitled.png\"\n        srcset=\"/static/0be8ad1c891ae90f6c22492b8fdc4713/12f09/Untitled.png 148w,\n/static/0be8ad1c891ae90f6c22492b8fdc4713/e4a3f/Untitled.png 295w,\n/static/0be8ad1c891ae90f6c22492b8fdc4713/fcda8/Untitled.png 590w,\n/static/0be8ad1c891ae90f6c22492b8fdc4713/efc66/Untitled.png 885w,\n/static/0be8ad1c891ae90f6c22492b8fdc4713/c83ae/Untitled.png 1180w,\n/static/0be8ad1c891ae90f6c22492b8fdc4713/84a78/Untitled.png 1832w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"delete-togglelikecreate-기능도-있음\" style=\"position:relative;\"><a href=\"#delete-togglelikecreate-%EA%B8%B0%EB%8A%A5%EB%8F%84-%EC%9E%88%EC%9D%8C\" aria-label=\"delete togglelikecreate 기능도 있음 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Delete: toggleLike(create 기능도 있음)</h1>\n<ul>\n<li>\n<p>POINT1. Query 작성</p>\n<ul>\n<li>mutation을 수행할 query를 gql 함수에 작성</li>\n</ul>\n</li>\n<li>POINT2. useMutation에 작성한 query, query 조건을 인자값으로 전달</li>\n<li>\n<p>POINT3. trigger query</p>\n<ul>\n<li>useMutation함수 return 배열 첫번째 함수를 수행시킨다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//PostQuery.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> gql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-boost'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//POINT1</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">TOGGLE_LIKE</span> <span class=\"token operator\">=</span> gql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  mutation toggleLike($postId: String!) {\n    toggleLike(postId: $postId)\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">ADD_COMMENT</span> <span class=\"token operator\">=</span> gql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  mutation addComment($postId: String!, $text: String!) {\n    addComment(postId: $postId, text: $text) {\n      id\n      text\n      user {\n        username\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//PostContainer.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useMutation <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-apollo-hooks'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">TOGGLE_LIKE</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ADD_COMMENT</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./PostQueries'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PostContainer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\n  id<span class=\"token punctuation\">,</span>\n  user<span class=\"token punctuation\">,</span>\n  files<span class=\"token punctuation\">,</span>\n  likeCount<span class=\"token punctuation\">,</span>\n  isLiked<span class=\"token punctuation\">,</span>\n  comments<span class=\"token punctuation\">,</span>\n  caption<span class=\"token punctuation\">,</span>\n  location<span class=\"token punctuation\">,</span>\n  createdAt<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//POINT2</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>toggleLikeMutation<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TOGGLE_LIKE</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    variables<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> postId<span class=\"token operator\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>addCommentMutation<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ADD_COMMENT</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    variables<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> postId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">,</span> text<span class=\"token operator\">:</span> comment<span class=\"token punctuation\">.</span>value <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onKeyPress</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> which <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> event<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>which <span class=\"token operator\">===</span> <span class=\"token number\">13</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n          data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> addComment <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">addCommentMutation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setSelfComments</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>selfComments<span class=\"token punctuation\">,</span> addComment<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        comment<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">{</span>\n        toast<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Can't send comment\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token operator\">...</span>\n\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">toggleLike</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//POINT3</span>\n    <span class=\"token function\">toggleLikeMutation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isLikedS <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsLiked</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setLikeCount</span><span class=\"token punctuation\">(</span>likeCountS <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsLiked</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setLikeCount</span><span class=\"token punctuation\">(</span>likeCountS <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PostPresenter</span></span>\n      <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">files</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>files<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">isLiked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isLikedS<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">likeCount</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>likeCountS<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">comments</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>comments<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">caption</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>caption<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">location</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">createdAt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>createdAt<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">newComment</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">setIsLiked</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setIsLiked<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">setLikeCount</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setLikeCount<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">currentItem</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>currentItem<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">toggleLike</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>toggleLike<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">onKeyPress</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onKeyPress<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">selfComments</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>selfComments<span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"ref\" style=\"position:relative;\"><a href=\"#ref\" aria-label=\"ref permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>REF</h1>\n<ul>\n<li><a href=\"https://www.apollographql.com/docs/react/data/mutations/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">apollographgql mutation 공식 문서</a></li>\n<li><a href=\"https://www.apollographql.com/docs/react/data/queries/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">apollographgql queryies 공식 문서</a></li>\n<li><a href=\"https://javascript.info/async-await\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">async-await</a></li>\n</ul>","frontmatter":{"title":"Apollo GraphQl CRUD in project","author":"jyoon","date":"Jun 15th 2020","tags":["ToyProjReview","Instagram clone coding2","apollo","graphql","apollo-graphql"],"category":"ToyProj","image":null}},"file":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,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","aspectRatio":0.7978723404255319,"src":"/static/84c6692e24199743b78879c33e27197b/630fb/jyoon.png","srcSet":"/static/84c6692e24199743b78879c33e27197b/5db04/jyoon.png 75w,\n/static/84c6692e24199743b78879c33e27197b/6d161/jyoon.png 150w,\n/static/84c6692e24199743b78879c33e27197b/630fb/jyoon.png 300w,\n/static/84c6692e24199743b78879c33e27197b/62b1f/jyoon.png 450w,\n/static/84c6692e24199743b78879c33e27197b/2a4de/jyoon.png 600w,\n/static/84c6692e24199743b78879c33e27197b/7a96f/jyoon.png 793w","sizes":"(max-width: 300px) 100vw, 300px"}}}},"pageContext":{"slug":"apollo-graphql-crud-in-project","tableOfContents":"<ul>\n<li><a href=\"/apollo-graphql-crud-in-project/#apollo-graphql-crud-%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\">apollo GraphQl CRUD 에 대해서</a></li>\n<li><a href=\"/apollo-graphql-crud-in-project/#create-add_comment%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\">Create: ADD_COMMENT에 대해서</a></li>\n<li><a href=\"/apollo-graphql-crud-in-project/#retrieve-feed_query%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\">Retrieve: FEED_QUERY에 대해서</a></li>\n<li><a href=\"/apollo-graphql-crud-in-project/#delete-togglelikecreate-%EA%B8%B0%EB%8A%A5%EB%8F%84-%EC%9E%88%EC%9D%8C\">Delete: toggleLike(create 기능도 있음)</a></li>\n<li><a href=\"/apollo-graphql-crud-in-project/#ref\">REF</a></li>\n</ul>","imageUrl":"jyoon.png"}},"staticQueryHashes":["3542266321","3649515864","63159454"]}