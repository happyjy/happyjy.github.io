{"componentChunkName":"component---src-templates-single-post-js","path":"/callback-function","result":{"data":{"markdownRemark":{"id":"1a254781-49ba-525a-866d-79710f492fe2","html":"<p>업무중에 setTimeout, 특정 반목문, event callback function 등 특정상황에서 콜백함수 내부에 this를 바인딩해서 사용하는 경우가 있었는데 그 경우를 실행 컨텍스트, 제어권에 따라 달라지는 것을 경험해본적이 있어 아래와 같은 내용을 이해하기 용이 했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">\t<span class=\"token number\">1</span> 콜백함수란<span class=\"token operator\">?</span>\n\t<span class=\"token number\">2</span> 제어권\n\t\t<span class=\"token number\">2</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> 호출시점\n\t\t<span class=\"token number\">2</span><span class=\"token operator\">-</span><span class=\"token number\">2</span> 인자\n\t\t<span class=\"token number\">2</span><span class=\"token operator\">-</span><span class=\"token number\">3</span> <span class=\"token keyword\">this</span>\n\t<span class=\"token number\">3</span> 콜백 함수는 함수다\n\t<span class=\"token number\">4</span> 콜백 함수 내부의 <span class=\"token keyword\">this</span>에 다른 값 바인딩하기\n\t<span class=\"token number\">5</span> 콜백 지옥과 비동기 제어</code></pre></div>\n<h1 id=\"1-콜백함수란\" style=\"position:relative;\"><a href=\"#1-%EC%BD%9C%EB%B0%B1%ED%95%A8%EC%88%98%EB%9E%80\" aria-label=\"1 콜백함수란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 콜백함수란?</h1>\n<blockquote>\n<p>다른 코드의 인자로 넘겨주는 함수(제어권도 함께 위임)\n콜백함수를 넘겨 받는 코드는 이 콜백 함수를 필요에 따라 적절한 시점에 실행</p>\n</blockquote>\n<h1 id=\"2-제어권\" style=\"position:relative;\"><a href=\"#2-%EC%A0%9C%EC%96%B4%EA%B6%8C\" aria-label=\"2 제어권 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 제어권</h1>\n<blockquote>\n<p>호출시점, 인자, this 예제를 통해서 알아 보자</p>\n</blockquote>\n<h2 id=\"2-1-호출시점\" style=\"position:relative;\"><a href=\"#2-1-%ED%98%B8%EC%B6%9C%EC%8B%9C%EC%A0%90\" aria-label=\"2 1 호출시점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-1 호출시점</h2>\n<blockquote>\n<p>setInterval에 callback function은 '호출주체, 제어권'은 setInterval이다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">cbFunc</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  conosl<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">++</span>count <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> timer <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>cbFunc<span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"2-2-인자\" style=\"position:relative;\"><a href=\"#2-2-%EC%9D%B8%EC%9E%90\" aria-label=\"2 2 인자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2 인자</h2>\n<blockquote>\n<p>콜백 함수의 제어권을 넘겨받은 코드는 콜백 함수를 호출할 때 인자에 어떤 값들을 어떤 순서로 넘길 것인지에 대한 제어권을 가진다.</p>\n</blockquote>\n<ul>\n<li>\n<p>callback function의 인자 값은 filter에 의해서 정해졌다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> newArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n<span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">idx<span class=\"token punctuation\">,</span> val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"this sceop\"</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">,</span> val <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> val <span class=\"token operator\">></span> <span class=\"token number\">2</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span> <span class=\"token comment\">// {a:1, b:2}코드에 대한 설명은 아래 2-3 this설명에서 알 수 있다.</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArr<span class=\"token punctuation\">)</span> <span class=\"token comment\">//[4,5]</span>\n\n<span class=\"token comment\">/*\n  this sceop: {a: 1, b: 2}\n  idx: 1\n  val: 0\n  \n  this sceop: {a: 1, b: 2}\n  idx: 2\n  val: 1\n  \n  this sceop: {a: 1, b: 2}\n  idx: 3\n  val: 2\n  \n  this sceop: {a: 1, b: 2}\n  idx: 4\n  val: 3\n  \n  this sceop: {a: 1, b: 2}\n  idx: 5\n  val: 4\n*/</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"2-3-this\" style=\"position:relative;\"><a href=\"#2-3-this\" aria-label=\"2 3 this permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-3 this</h2>\n<ul>\n<li>\n<p>Array.prototype.map - 구현</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">filter</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback<span class=\"token punctuation\">,</span> thisArg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">var</span> mappedArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> mappedValue <span class=\"token operator\">=</span> <span class=\"token function\">callback</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>thisArg <span class=\"token operator\">||</span> window<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//POINT</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>주석 POINT 설명</li>\n<li>thisArg || window<br>\n: callback function에서 this의 scope을 명시적으로 바인딩\n: 이 코드에 의해 filter의 두번째 param으로 callback의 this를 정해줄 수 있다.\n: 2-2인자 챕터 코드 참고하기</li>\n<li>this<br>\n: filter를 호출 한 array(이 내용은 prototype과 관련해서 더 설명할 수 있겠다.)</li>\n<li>this[i]<br>\n: 이 코드에 의해서 callback function의 첫번째 param array의 i번째 요소</li>\n<li>i<br>\n: 이 코드에 의해서 callback function의 두번째 param array의 i번째</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"3-콜백-함수는-함수다\" style=\"position:relative;\"><a href=\"#3-%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98%EB%8A%94-%ED%95%A8%EC%88%98%EB%8B%A4\" aria-label=\"3 콜백 함수는 함수다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 콜백 함수는 함수다</h1>\n<ul>\n<li>\n<p>메서드를 콜백함수로 전달한 경우</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\nvals<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token function-variable function\">logValues</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">logValues</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//{vals: Array(3), logValues: f} 10 20</span>\n<span class=\"token punctuation\">;</span><span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>logValues<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">/*\n  Window{...} 10 0\n  Window{...} 20 1\n  Window{...} 30 2    \n*/</span></code></pre></div>\n<ul>\n<li>forEach의 callback function은 코드에 의해서 호출된 logValues에서 this는 Window를 가르키고 있다.</li>\n<li>callback function으로 obj 객체에 의해서 this가 결정되지 않고 별도로 this를 명시하는 인자를 지정하지 않았으므로 함수 내부에서의 this는 전역객체를 가르친다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"4-콜백-함수-내부의-this에-다른-값-바인딩하기\" style=\"position:relative;\"><a href=\"#4-%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98-%EB%82%B4%EB%B6%80%EC%9D%98-this%EC%97%90-%EB%8B%A4%EB%A5%B8-%EA%B0%92-%EB%B0%94%EC%9D%B8%EB%94%A9%ED%95%98%EA%B8%B0\" aria-label=\"4 콜백 함수 내부의 this에 다른 값 바인딩하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4 콜백 함수 내부의 this에 다른 값 바인딩하기</h1>\n<ul>\n<li>\n<p>콜백 함수 내부의 this에 따른 값을 바인딩하는 방법 (1/3) </p>\n<ul>\n<li>scope chain으로 closure 영역 변수 접근</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"obj1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">func</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> me <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span> <span class=\"token comment\">//POINT</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>me<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// obj1</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> callback <span class=\"token operator\">=</span> obj1<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>var me = this;는 closure scope에 등록</li>\n<li>setTimeout에 의해서 callback function이 호출 될때 me.name은 execute context에서 me.name 변수를 찾는다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 522px; flex:1.92;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c25c9b80a2ce8858bb324473ca0d4b2/29492/callback%26scope%26closure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACDElEQVQoz1WSS2/aQBSFrf6BSl1GVdMEh4Skxrz9AOPXjI2BmFcSKCGlSFWkStlUXXRRqX/96wSraVh8uqMr3TPn3BktChMWqwU3y5zlaMA4TZEyJoojYhHvCWNJ4F2xu3vH0+6Ux/UR3x8+8DB7y1RozJM3L2iBFzAfxdzlU8bTL4zyFePZhoFISUKxJ1PnrmMzHAomkxFdt4XrNHHsBrZVP0BrZC5G3qOdB/ycJPxZ5PyepUSbjPZNn+bMozH1aLoWfiAZjnO8foBhmHuqZo1q9T+alfRw8hB/EvI0dvk1D/mRKzfrjHQtiW4Fbh7RsC1qTQe36+K4XUzT5OLiHF3XD9DSOCFL1HA6xFPnXiTxRYIM1f4CgVCRU7XDZqNBrVbD83zl0Kder1OpVCiXywdo1+Mpq82W+eYrt6s7dtst95sFD4+fGWQZcRwjhMCyLCKZIAYZ9WYLQ0U1lMuquuQZQ2EqND/wyQYD0kQqEuVUvbKqSaaqEvon2Gq3CToWom3TuapgVz9RK+sFZzp1VSvPDvv9vhoS6pvE++EXoqIKRSgkWavGrmVybztsfZdd2CXVj5Hlj6TnJ8TlE27094WglPLFyQGx2AsGSnCqxL6ZlyybdZYtg8WlzrJ8zORKZ2FWuDbO2Z0dFYLiVbTXFL2i3+m0EV2HpOdSLZ1S1U8xz0oFeknFLnGpov8FSh1YkRqNC5QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"callback &amp; scope &amp; clousre\"\n        title=\"callback &amp; scope &amp; clousre\"\n        src=\"/static/2c25c9b80a2ce8858bb324473ca0d4b2/29492/callback%26scope%26closure.png\"\n        srcset=\"/static/2c25c9b80a2ce8858bb324473ca0d4b2/12f09/callback%26scope%26closure.png 148w,\n/static/2c25c9b80a2ce8858bb324473ca0d4b2/e4a3f/callback%26scope%26closure.png 295w,\n/static/2c25c9b80a2ce8858bb324473ca0d4b2/29492/callback%26scope%26closure.png 522w\"\n        sizes=\"(max-width: 522px) 100vw, 522px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>\n<p>콜백 함수 내부의 this에 따른 값을 바인딩하는 방법 (2/3)</p>\n<ul>\n<li>위예제 obj1.func 함수 재활용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"obj1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">func</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> me <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span> <span class=\"token comment\">//POINT</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>me<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> callback1 <span class=\"token operator\">=</span> obj1<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callback1<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//obj1</span>\n\n<span class=\"token keyword\">var</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'obj2'</span><span class=\"token punctuation\">,</span>\n  func<span class=\"token operator\">:</span> obj1<span class=\"token punctuation\">.</span>func\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> callback2 <span class=\"token operator\">=</span> obj2<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callback2<span class=\"token punctuation\">,</span> <span class=\"token number\">1500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//obj2</span>\n\n<span class=\"token keyword\">var</span> obj3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'obj3'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//POINT: obj1.func 함수의 call함수 호출로 컨텍스트 변경</span>\n<span class=\"token keyword\">var</span> callback3 <span class=\"token operator\">=</span> obj1<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>obj3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callback3<span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//obj3</span>\n\n  <span class=\"token comment\">/*\n    # 결과\n      * obj1\n      * obj2\n      * obj3\n  */</span></code></pre></div>\n</li>\n<li>\n<p>콜백 함수 내부의 this에 따른 값을 바인딩하는 방법 (3/3)</p>\n<ul>\n<li>bind로 this를 명시한 function을 사용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"obj1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">func</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//POINT: obj1.func 함수의 bind함수 호출로 컨텍스트 변경</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//POINT: obj1.func 함수의 bind함수 호출로 컨텍스트 변경</span>\n<span class=\"token keyword\">var</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"obj2\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\n  # 결과\n    * obj1\n    * obj2\n*/</span></code></pre></div>\n</li>\n</ul>\n<h1 id=\"5-콜백-지옥과-비동기-제어\" style=\"position:relative;\"><a href=\"#5-%EC%BD%9C%EB%B0%B1-%EC%A7%80%EC%98%A5%EA%B3%BC-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%A0%9C%EC%96%B4\" aria-label=\"5 콜백 지옥과 비동기 제어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5 콜백 지옥과 비동기 제어</h1>\n<blockquote>\n<p>콜백함수를 익명 함수로 전달하는 과정이 반복되어 코드의 들여쓰기 수준이 감당하기 힘들정도로 깊어지는 현상\n주로 이벤트 처리, 서버통신과 같은 비동기적인 작업을 수행하기 위해서 이런 형태가 등장</p>\n</blockquote>\n<ul>\n<li>\n<p>동기적인 코드</p>\n<ul>\n<li>현재 실행중인 코드가 완료된 후에야 다음 코드를 실행하는 방식</li>\n</ul>\n</li>\n<li>\n<p>비동기적인 코드</p>\n<ul>\n<li>현재 실행 중인 코드의 완료 여부와 무관하게 즉시 다음 코드로 넘어간다.</li>\n<li>CPU의 계산에 의해 즉시 처리가 가능한 대부분의 코드는 동기적인 코드</li>\n</ul>\n</li>\n<li>\n<p>비동기적인 코드가 필요한 경우<br>\n: 웹의 복잡도가 높아진 만큼 비동기적인 코드의 비중이 예전보다 훨씬 높아졌다.</p>\n<ul>\n<li>실행대기(setTimeout)<br>\n: 사용자의 요청에 의해 특정 시간이 경과되기 전까지 어떤 함수의 실행을 보류</li>\n<li>이벤트처리(addEventListener)<br>\n: 사용자의 직접적인 개입이 있을 때 비로소 어떤 함수를 실행하도록 대기</li>\n<li>보류(XMLhttpRequest)<br>\n: 웹브라우저 자체가 아닌 별도의 대상에 무언가를 요청하고 그에 대한 응답이 왔을때 비로소 어떤 함수를 실행하도록 대기</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h1>\n<ul>\n<li>코어 자바스크립트 - 위키북스</li>\n<li>인사이드 자바스크립트</li>\n<li>자바스크립트 완벽 가이드</li>\n</ul>","frontmatter":{"title":"callback function","author":"jyoon","date":"Feb 2nd 2020","tags":["this","JavaScript this","JavaScript"],"category":"Javascript Core","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAB4UlEQVQ4y2P4fl+ObMQwqnmQaP7xAIQg7K93QexfD+W+3QMhwpq/3AXpgbD/v5QHct9fl/39TP7vM3mIfiyagRJAG97fkLWz4Aj04vp0W/bfU/kp7UKaqqxiosxB3lwX90r+eQzSj13z70dyr6/KsrExykgyA3VuXCDGwMAgJcFsZcoOZKRE8/5/Lg90FE7Nb67JcnIyykmz/H+jUFvID9Qzp1/4/3fFjfNFH5+VBjoNp7OhmjnAml/Kz+sXBmrWVmdbPl3kxxN5oHHf7uLxM0yzohzL59tyX+/JhflxMYCBqhLLlsWi2J39FRxavx7Kv7oiywHULM/y8aYsMHh/vZRfO0fU1Z4DqJ+Xh/HMDsn/z+RRNd+T+/dC/skFGSD59YEcULOCHAvQhldXZM7slPz/Xen/T6XidD6g/p56wf/vFRCagYr+vwB5D2hwX6Pg1DYhoCJ7S46fD+VtLdjZ2Rj7m4T2rBJ3tgVZvnCSCNDn6Jo3LBDl4WaEeI+ZmWHFDJH/7xSmdQhBBJmYQOLujhwfbsr+fIDqZ2BQ/X8lf+u49LR24b5GodM7JP+BExNQ8PZx6dk9wl21guvni36+K/v7sRyWRAIU+gOMjLcKQAvhyRDoqD/gGAIKAg0CJnKIOACifKWi6QO/2QAAAABJRU5ErkJggg==","aspectRatio":1,"src":"/static/c687488e8cd8859aed53d64ce9667f69/f3dec/javascript.png","srcSet":"/static/c687488e8cd8859aed53d64ce9667f69/d4144/javascript.png 175w,\n/static/c687488e8cd8859aed53d64ce9667f69/a5370/javascript.png 350w,\n/static/c687488e8cd8859aed53d64ce9667f69/f3dec/javascript.png 640w","sizes":"(max-width: 640px) 100vw, 640px"}}}}},"file":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAARlAAAEZQAGA43XUAAAFyElEQVQ4yy3Ta1BSaRgH8DNNtYXi4XCptFA3767mJbVSW9varKl28VKbtzRE1LREDTXNCyppeA1vGIKJBt4BQeQAckdE8YKolTZTs592v+5Mn3f36O457zxzvvzm+b/P+x4gMDAqwD/S53zYOWIgDn+GlF0aFBpVmEduff2aSqU8vJ9SVFxMpVKZjMbMrJwfr9/OyMotys+roFI5TAYQGBzjHxDl6xvp7uHr5RNMZ/Eux19jNNTUNjBKS589zsmsZ9SVPy/LpeRnZpGLn9DKCwurCiic1obJwW4gOPSqf1Csj28UHk+8dCOpii0kk3M5A128d0Nsdlt9fSWslg5w2F3dnS8q6WVUyqvykpE3LcKBjrH+diAk5k5wDMn/wk0I8n5S113bI3hRRRcIBlXaBaVSzOW++fufb399+3NBPlFbUtRRVzE+1D3J6+F2NHNYDCA0NiX0JtU/Iccv/BZzdJ7WyqFQqe2dLWK5ZHxirCA/F1bPLRkWWqvLh7qYsyP9gr52bmczr+vVCJsF+AVEBITEeniHXblOGtRv0VoGcnIpTS1NjCbGlegI4mm8jxfx9rW4ORF3Z3N574NTLZse5/fy3rQMtjUCeAIBj8djMRgPd4/4W8khF6/GxsY9znjwU2TwBW8PDwLu+PFjBBz0KD15YpS3uWpRzIyJRe/6WQ3DPW0AgXAKh8NjISzoBrqiXNEoNOiKjg70C/f1OnuaALm5EEA06II6cuSIz/dEVn3F2GD32y7mQEdzPwvpjCfgcDgsBOEgLB5/CgQx/kTPiwFB5864h3kRyQkR1Q9/rklPvBHuf/TosfzstLGBzsH2po6GyuaqMgTj/8NYDISFcBgQE3beN9DLG+3i8mtE8NuyTAmLJnlV3F6Ygvru+L3Eax2NNcza6q4WJr+/93+MaOQ9eDAYdwLBj+gdF3LhYXyMsLqQVZBe/Nu9OnKKL/F0F6vRblJuWFU7a/rPTtMhxuIOGBIbh0ODYJgnsSk7pyErIy0htr+E/Dw1kXo3oZ6cRE9P/n136Y+vG/tb5h374pYNBnCHGHfYFvlyQbvGBwWYB3on6uiCymcLbXVD9Bzuc/IEs2SWSf+ys7TvNCNtEexcQTAisdjD2BBSMW5unsSzU21tkuY6UXmRvOnFcEnmO3reeDPNIhV8/bi67zAh2LmicSwvAAdbPViYw4rMHDqJcnmZ82iquoyXm9OXltqTRRqmZYuaaTur2r0tC5J59xBvLcMABGKQhcwJSQ6BIDJzFAp163K0qKZcQC0YIpF6HtzroibL+pmfNhGm3ds0frBrHVb4AGOQEbmCSFrkkEA0GuMGQhjwxMkTJalJitZG/tPHoy8LObQ0aV/DvtO67zB/dpj2NgxOm9qJYNxBWwgPYZGLhgVBxB/cKgJESU0arSzrLEjvLrjPzrvDb6Hze1/r5MKPdu3+usG5pNq2wsCP0dEx4RFhQYH+nueifgjMvE9qY1RpVQoZt5f/NL8t45fuvFROXekIp1PIY8+McmHJqEE5ZVbNrhrkQEJMZGLcpcS4mNL83Llpoc2k3l63ftn/tCgRT3Z28JlNg6wW0TAX+ZkWZbN6hUo5N62YFcFyoRaeAorSk4rSST3M2jWzanfdYlCJHasW55pte33bpDbCMrlsZlwlFS/K5CqJxAjr9QtqtVw6LxnTaaYBSsqdivzsRZlULOQpZ99rFVOfd52rFu3u5pZNZzAqlRYdrJbN6eRKtVRmVOjNsEElESuloiU9DGTfvS4a7LMbTWNv2RIh32mzfHQ41pZ1uw7HomzObrLYLTqtHMGwQbFoVhqtGpNOPm9QylZ0BqDkUZpGIp6fmBjlsHXzc5/WHc7lFbtFa1SplDMzTtu63WwywfMaqdysNFhVZpvGAovFGqnMuqgHRvv69PMyHrtd0N+zbjTu2NY2TEtmNayYntTPK7aXN5DwSxqVXrFgUuotsHFZYx3n82YE760ay78HMq6Y3VmMkAAAAABJRU5ErkJggg==","aspectRatio":0.7978723404255319,"src":"/static/84c6692e24199743b78879c33e27197b/630fb/jyoon.png","srcSet":"/static/84c6692e24199743b78879c33e27197b/5db04/jyoon.png 75w,\n/static/84c6692e24199743b78879c33e27197b/6d161/jyoon.png 150w,\n/static/84c6692e24199743b78879c33e27197b/630fb/jyoon.png 300w,\n/static/84c6692e24199743b78879c33e27197b/62b1f/jyoon.png 450w,\n/static/84c6692e24199743b78879c33e27197b/2a4de/jyoon.png 600w,\n/static/84c6692e24199743b78879c33e27197b/7a96f/jyoon.png 793w","sizes":"(max-width: 300px) 100vw, 300px"}}}},"pageContext":{"slug":"callback-function","tableOfContents":"<ul>\n<li><a href=\"/callback-function/#1-%EC%BD%9C%EB%B0%B1%ED%95%A8%EC%88%98%EB%9E%80\">1 콜백함수란?</a></li>\n<li>\n<p><a href=\"/callback-function/#2-%EC%A0%9C%EC%96%B4%EA%B6%8C\">2 제어권</a></p>\n<ul>\n<li><a href=\"/callback-function/#2-1-%ED%98%B8%EC%B6%9C%EC%8B%9C%EC%A0%90\">2-1 호출시점</a></li>\n<li><a href=\"/callback-function/#2-2-%EC%9D%B8%EC%9E%90\">2-2 인자</a></li>\n<li><a href=\"/callback-function/#2-3-this\">2-3 this</a></li>\n</ul>\n</li>\n<li><a href=\"/callback-function/#3-%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98%EB%8A%94-%ED%95%A8%EC%88%98%EB%8B%A4\">3 콜백 함수는 함수다</a></li>\n<li><a href=\"/callback-function/#4-%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98-%EB%82%B4%EB%B6%80%EC%9D%98-this%EC%97%90-%EB%8B%A4%EB%A5%B8-%EA%B0%92-%EB%B0%94%EC%9D%B8%EB%94%A9%ED%95%98%EA%B8%B0\">4 콜백 함수 내부의 this에 다른 값 바인딩하기</a></li>\n<li><a href=\"/callback-function/#5-%EC%BD%9C%EB%B0%B1-%EC%A7%80%EC%98%A5%EA%B3%BC-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%A0%9C%EC%96%B4\">5 콜백 지옥과 비동기 제어</a></li>\n<li><a href=\"/callback-function/#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>","imageUrl":"jyoon.png"}},"staticQueryHashes":["3542266321","3649515864","63159454"]}